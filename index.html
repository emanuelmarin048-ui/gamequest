<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GameQuest</title>
  <script src="https://unpkg.com/lucide/dist/umd/lucide.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; font-family: sans-serif; overflow: hidden; }
    .bg-anim { background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); background-size: 400% 400%; animation: gradientBG 15s ease infinite; }
    @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    .sidebar { width: 60px; background-color: #1f2029; height: 100vh; position: fixed; left: 0; top: 0; display: flex; flex-direction: column; align-items: center; padding-top: 20px; }
    .sidebar button { color: #ccc; margin: 20px 0; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; }
    .sidebar button:hover { color: #fff; background-color: #2a2c39; border-radius: 8px; }
    .main { margin-left: 60px; height: 100vh; display: flex; flex-direction: column; }
    .header { padding: 10px; background-color: #1a1c23; color: #eee; display: flex; justify-content: space-between; align-items: center; }
    .content { flex: 1; overflow-y: auto; padding: 20px; }
    .card { background-color: #262835; border-radius: 12px; overflow: hidden; color: #eee; margin: 10px 0; display: flex; }
    .card img { width: 100px; object-fit: cover; }
    .card-body { padding: 10px; }
    .modal-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; backdrop-filter: blur(4px); display: none; align-items: center; justify-content: center; }
    .modal { background-color: #1f2029; border-radius: 12px; width: 80%; max-width: 600px; padding: 20px; color: #eee; }
    #chatPanel { position: fixed; right: 0; top: 0; width: 0; height: 100vh; background-color: #1f2029; overflow: hidden; transition: width 0.3s ease; }
    #chatPanel.open { width: 300px; }
    #chatHeader { padding: 10px; background-color: #23262f; color: #eee; }
    #chatBody { padding: 10px; height: calc(100vh - 120px); overflow-y: auto; }
    #chatInput { position: absolute; bottom: 10px; left: 0; width: 100%; display: flex; }
    #chatInput input { flex: 1; padding: 10px; border: none; border-radius: 4px 0 0 4px; }
    #chatInput button { padding: 10px; background-color: #2563eb; color: white; border: none; border-radius: 0 4px 4px 0; }
  </style>
</head>
<body class="bg-anim">
  <div class="sidebar">
    <button id="btnSearch" title="Buscar juegos"><i data-lucide="search-alt" width="24" height="24"></i></button>
    <button id="btnMyGames" title="Mis juegos"><i data-lucide="gamepad" width="24" height="24"></i></button>
    <button id="btnSort" title="Ordenar"><i data-lucide="shuffle" width="24" height="24"></i></button>
    <button id="btnChatToggle" title="Chat IA"><i data-lucide="message-circle" width="24" height="24"></i></button>
  </div>
  <div class="main">
    <div class="header">
      <h1 class="text-2xl">GameQuest</h1>
      <div>
        <select id="langSelect" class="bg-gray-700 text-white rounded p-1">
          <option value="es">Español</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
    <div class="content" id="contentArea">
      <div id="searchView" class="hidden">
        <input id="inputSearchGame" type="text" placeholder="Busca un juego..." class="w-full p-2 rounded mb-4 text-black" />
        <div id="suggestions"></div>
      </div>
      <div id="myGamesView" class="hidden">
        <h2 class="text-xl mb-4">Mis Juegos</h2>
        <div id="listsContainer"></div>
      </div>
      <div id="sortView" class="hidden">
        <h2 class="text-xl mb-4">Ordenar mis juegos</h2>
        <select id="orderOption" class="p-2 rounded mb-4">
          <option value="name_asc">Nombre ↑</option>
          <option value="name_desc">Nombre ↓</option>
        </select>
        <button onclick="applyOrder()" class="btn">Ordenar</button>
      </div>
    </div>
  </div>
  <div id="chatPanel">
    <div id="chatHeader">Chat IA</div>
    <div id="chatBody"></div>
    <div id="chatInput">
      <input id="chatMsg" placeholder="Pregunta algo..." />
      <button onclick="sendChat()">Enviar</button>
    </div>
  </div>
  <div id="modalBg" class="modal-bg">
    <div class="modal" id="gameModal">
      <h3 id="modalTitle" class="text-2xl mb-2"></h3>
      <img id="modalImg" src="" alt="Portada" class="mb-4 w-full max-h-60 object-contain" />
      <p id="modalDesc"></p>
      <button onclick="closeModal()" class="mt-4 btn">Cerrar</button>
    </div>
  </div>
  <script>
    lucide.replace();
  </script>
</body>
</html>